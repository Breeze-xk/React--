"use strict";(self.webpackChunkt_zero_user_operation_frontend=self.webpackChunkt_zero_user_operation_frontend||[]).push([[1388],{51388:(e,n,t)=>{t.r(n),t.d(n,{default:()=>q}),t(95352);var a=t(37614),r=(t(45654),t(39144)),i=(t(11125),t(92e3)),l=(t(58645),t(71577)),o=(t(47610),t(55026)),s=t(15861),c=t(15671),d=t(43144),u=t(97326),m=t(79340),p=t(82963),f=t(61120),b=t(4942),h=(t(10534),t(20924)),g=(t(21384),t(16317)),_=t(87757),Z=t.n(_),k=t(67294),v=t(55609),x=t(93379),y=t.n(x),E=t(62165);y()(E.Z,{insert:"head",singleton:!1});const C=E.Z.locals||{};var w=t(47166),S=t.n(w),M=(t(5582),t(87462)),I=(t(24713),t(82482)),L=t(29439);h.Z.TextArea;const F=function(e){var n=e.visible,t=e.submitMap,r=e.onCancel,i=I.Z.useForm(),o=(0,L.Z)(i,1)[0],s=function(){o.resetFields(),o.setFieldsValue({}),r()},c=[k.createElement(l.Z,{onClick:s},"取消"),k.createElement(l.Z,{key:"submit",type:"primary",onClick:function(){o.validateFields().then((function(e){o.resetFields(),t(e)})).catch((function(e){console.log("校验失败:",e)}))}},"确认")];return k.createElement(a.Z,{visible:n,title:"新建场景",onCancel:s,destroyOnClose:!0,footer:c},k.createElement(I.Z,(0,M.Z)({form:o},{labelCol:{span:5},wrapperCol:{span:18}},{name:"createLessee",initialValues:{gender:0}}),k.createElement(I.Z.Item,{label:"场景名称",name:"sceneName",rules:[{required:!0,message:"请输入场景名称",whitespace:!0}],hasFeedback:!0},k.createElement(h.Z,{placeholder:"请输入场景名称"})),k.createElement(I.Z.Item,{label:"场景code",name:"sceneCode",rules:[{required:!0,message:"请输入场景code",whitespace:!0}],hasFeedback:!0},k.createElement(h.Z,{placeholder:"请输入场景code"}))))};function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}h.Z.TextArea;const P=function(e){var n=e.visible,t=e.submitMap,r=e.onCancel,i=e.currentDetailData,o=I.Z.useForm(),s=(0,L.Z)(o,1)[0],c=null==i||0==i.length?{}:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,b.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},i);s.setFieldsValue(c);var d=[k.createElement(l.Z,{onClick:r},"取消"),k.createElement(l.Z,{key:"submit",type:"primary",onClick:function(){s.validateFields().then((function(e){s.resetFields(),s.setFieldsValue(e),t(e)})).catch((function(e){console.log("校验失败:",e)}))}},"确认")];return k.createElement(a.Z,{visible:n,title:"编辑租户",onCancel:r,destroyOnClose:!0,footer:d},k.createElement(I.Z,(0,M.Z)({form:s},{labelCol:{span:5},wrapperCol:{span:18}},{name:"createLessee",initialValues:{gender:0}}),k.createElement(I.Z.Item,{label:"场景名称",name:"sceneName",rules:[{required:!0,message:"请输入场景名称",whitespace:!0}],hasFeedback:!0},k.createElement(h.Z,{placeholder:"请输入场景名称"})),k.createElement(I.Z.Item,{label:"场景code",name:"sceneCode",rules:[{required:!0,message:"请输入场景code",whitespace:!0}],hasFeedback:!0},k.createElement(h.Z,{placeholder:"请输入场景code"}))))};var V;var D=S().bind(C),q=(g.Z.Option,h.Z.TextArea,(0,v.connect)((function(e){return{global:e.global,sceneManage:e.sceneManage}}))(V=function(e){(0,m.Z)(g,e);var n,t,h=(n=g,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,f.Z)(n);if(t){var r=(0,f.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,p.Z)(this,e)});function g(e){var n;return(0,c.Z)(this,g),n=h.call(this,e),(0,b.Z)((0,u.Z)(n),"getSceneLists",(function(){var e=n.props.dispatch,t=n.state.dataSource;e({type:"sceneManage/getSceneLists",opt:{currentPage:t.currentPage||1,pageSize:t.pageSize},callback:function(e){var t,a,r,i=null==e||null===(t=e.data)||void 0===t?void 0:t.data;n.setState({sceneLists:i,sceneListTotal:(null==e||null===(a=e.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.totalCount)||0})}})})),(0,b.Z)((0,u.Z)(n),"changePage",(function(e,t){n.setState({dataSource:{currentPage:e,pageSize:t}},(function(){n.getSceneLists()}))})),(0,b.Z)((0,u.Z)(n),"handleAddSubmit",function(){var e=(0,s.Z)(Z().mark((function e(t){var a,r,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.dispatch,r=t.sceneName,i=t.sceneCode,k.Fragment,e.next=5,a({type:"sceneManage/saveSceneInfo",opt:{sceneCode:i,sceneName:r},callback:function(e){200==e.data.status?(o.ZP.success("创建业务成功"),n.handleCancel(),n.getSceneLists()):o.ZP.error("添加失败，请重新尝试!")}});case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),(0,b.Z)((0,u.Z)(n),"handleAddVisible",(function(){n.setState({createVisible:!0})})),(0,b.Z)((0,u.Z)(n),"handleDelService",(function(){var e=n.state.sceneInfo;(0,n.props.dispatch)({type:"sceneManage/deleteSceneInfo",opt:{sceneId:e.id},callback:function(e){200==e.data.status?(o.ZP.success("删除场景成功"),n.handleCancel(),n.getSceneLists()):o.ZP.error("删除失败，请重新尝试!")}}),n.handleCancel()})),(0,b.Z)((0,u.Z)(n),"handleCancel",(function(){n.setState({delVisible:!1,createVisible:!1,editVisible:!1,editInfo:{},sceneInfo:{}})})),(0,b.Z)((0,u.Z)(n),"handleEdit",function(){var e=(0,s.Z)(Z().mark((function e(t){var a,r,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.dispatch,r=t.sceneName,i=t.sceneCode,k.Fragment,e.next=5,a({type:"sceneManage/modifySceneInfo",opt:{id:n.state.editInfo.id,sceneName:r,sceneCode:i},callback:function(e){200==e.data.status?(o.ZP.success("修改场景成功"),n.handleCancel(),n.getSceneLists()):o.ZP.error("修改失败，请重新尝试!")}});case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.state={editVisible:!1,dataSource:{currentPage:1,pageSize:10},serviceListTotal:0,delVisible:!1,sceneInfo:"",createVisible:!1,editInfo:{},sceneLists:[]},n}return(0,d.Z)(g,[{key:"componentDidMount",value:function(){this.getSceneLists()}},{key:"showFormModal",value:function(e,n){"edit"==e?this.setState({editVisible:!0,editInfo:n}):"del"==e&&this.setState({delVisible:!0,sceneInfo:n})}},{key:"render",value:function(){var e=this,n=this.state,t=n.delVisible,o=n.createVisible,s=n.sceneLists,c=n.sceneInfo,d=n.editVisible,u=n.editInfo,m=n.serviceListTotal,p=[{title:"序号",key:"id",width:60,render:function(e,n,t){return k.createElement(k.Fragment,null,k.createElement("span",null,t+1))}},{title:"场景名",dataIndex:"sceneName",textWrap:"word-break",ellipsis:!0,key:"sceneName"},{title:"添加时间",dataIndex:"createdTime",key:"createdTime",width:200,textWrap:"word-break",ellipsis:!0},{title:"场景code",dataIndex:"sceneCode",key:"sceneCode",textWrap:"word-break",ellipsis:!0},{title:"操作",dataIndex:"id",key:"id",width:200,render:function(n,t){return k.createElement(k.Fragment,null,k.createElement(l.Z,{style:{marginLeft:"10px"},size:"small",onClick:function(){return e.showFormModal("edit",t)},type:"primary"},"编辑"),k.createElement(l.Z,{style:{marginLeft:"10px"},size:"small",onClick:function(){return e.showFormModal("del",t)},type:"danger"},"删除"))}}];return k.createElement("div",{className:D("sceneManage")},k.createElement(r.Z,{title:"场景管理",extra:k.createElement(k.Fragment,null,k.createElement(l.Z,{style:{marginLeft:"10px"},size:"small",className:D("addLesseeBtn"),onClick:this.handleAddVisible,type:"primary"},"新增"))},k.createElement("div",{className:D("table-box")},k.createElement(i.Z,{scroll:{x:!0},dataSource:s,columns:p,rowKey:function(e){return e.id},pagination:{total:m,onChange:this.changePage}}))),k.createElement(a.Z,{title:"删除场景",visible:t,footer:[k.createElement(l.Z,{key:"submit",type:"primary",onClick:this.handleDelService},"确认"),k.createElement(l.Z,{onClick:this.handleCancel},"取消")],onOk:this.handleDelService,onCancel:this.handleCancel},k.createElement("div",null,"即将删除",c.serviceName,"!")),k.createElement(F,{visible:o,submitMap:this.handleAddSubmit,onCancel:this.handleCancel}),k.createElement(P,{visible:d,submitMap:this.handleEdit,onCancel:this.handleCancel,currentDetailData:u}))}}]),g}(k.Component))||V)},62165:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(23645),r=t.n(a)()((function(e){return e[1]}));r.push([e.id,'html,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  font-family: "微软雅黑", "Arial", "华文细黑", "STHeiti", "MingLiu";\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: \'\';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\na {\n  color: #000;\n  text-decoration: none;\n}\na:hover {\n  color: #000;\n  text-decoration: none;\n}\n::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #aaa;\n  border-radius: 10px;\n}\n#index-module__root___1RDF3 {\n  height: 100%;\n}\n.index-module__box___1ZGJZ {\n  width: 100%;\n  display: flex;\n  height: 100%;\n  min-height: 92vh;\n  background-color: #f0f2f5;\n}\n.index-module__sceneManage___1kkE6 .ant-card {\n  margin: 20px;\n  border-radius: 7px;\n  border-color: transparent;\n  box-shadow: 0 1px 2px -2px #00000029, 0 3px 6px #0000001f, 0 5px 12px 4px #00000017;\n}\n.index-module__sceneManage___1kkE6 .ant-form {\n  margin: 20px 0;\n}\n.index-module__sceneManage___1kkE6 .lesseeLists .addLesseeBtn {\n  float: right;\n  margin-bottom: 20px;\n}\n.index-module__sceneManage___1kkE6 .lesseeInfoModal {\n  width: 100%;\n}\n.index-module__sceneManage___1kkE6 .lesseeInfoModal .ant-form-item {\n  width: 100%;\n  margin-bottom: 10px;\n}\n.index-module__sceneManage___1kkE6 .lesseeInfoModal .ant-form-item .ant-form-item-label {\n  width: 100px;\n}\n.index-module__sceneManage___1kkE6 .index-module__table-box___2LGZA {\n  padding: 20px;\n}\n',""]),r.locals={root:"index-module__root___1RDF3",box:"index-module__box___1ZGJZ",sceneManage:"index-module__sceneManage___1kkE6","table-box":"index-module__table-box___2LGZA"};const i=r}}]);