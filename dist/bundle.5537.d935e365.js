"use strict";(self.webpackChunkt_zero_user_operation_frontend=self.webpackChunkt_zero_user_operation_frontend||[]).push([[5537],{45537:(n,e,t)=>{t.r(e),t.d(e,{default:()=>W}),t(27853);var o=t(11382),i=(t(90562),t(71230)),s=(t(62194),t(15746)),a=(t(45654),t(39144)),l=(t(58645),t(71577)),r=(t(47610),t(55026)),d=t(15671),c=t(43144),u=t(97326),p=t(79340),b=t(82963),f=t(61120),g=t(4942),m=(t(10534),t(20924)),_=t(67294),h=t(73935),v=t(55609),y=t(47166),x=t.n(y),Z=t(93379),w=t.n(Z),T=t(14950);w()(T.Z,{insert:"head",singleton:!1});const k=T.Z.locals||{};t(96486),t(95352);var L=t(37614),B=(t(9628),t(48835)),E=(t(24713),t(82482)),O=(t(70131),t(94412)),I=t(87462),C=t(77233);w()(C.Z,{insert:"head",singleton:!1});const N=C.Z.locals||{};function S(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function D(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?S(Object(t),!0).forEach((function(e){(0,g.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}t(3510);var P,j=x().bind(N),q=m.Z.TextArea,R=function(n){(0,p.Z)(i,n);var e,t,o=(e=i,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,o=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return(0,b.Z)(this,n)});function i(n){var e;return(0,d.Z)(this,i),e=o.call(this,n),(0,g.Z)((0,u.Z)(e),"cancel",(function(){e.formRef.current.resetFields(),e.setState({logo:"",largeLogo:""}),e.props.addModalCancel()})),(0,g.Z)((0,u.Z)(e),"importFile",(function(n,t){console.log("rrr",new Blob([n])),(0,e.props.dispatch)({type:"integrationTools/convertFile",opt:{file:n},callback:function(n){var o,i,s,a,l,d;200==(null==n||null===(o=n.data)||void 0===o?void 0:o.status)?"logo"==t?e.setState({logo:"http://www.to0-ai.com/"+(null==n||null===(i=n.data)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.targetFileName)}):e.setState({largeLogo:"http://www.to0-ai.com/"+(null==n||null===(a=n.data)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.targetFileName)}):r.ZP.error(null==n||null===(d=n.data)||void 0===d?void 0:d.message)}})})),(0,g.Z)((0,u.Z)(e),"limitDecimals",(function(n){var e=/^(\-)*(\d+)\.(\d\d).*$/;return"string"==typeof n?isNaN(Number(n))?0:n.replace(e,"$1$2.$3"):"number"==typeof n?isNaN(n)?0:String(n).replace(e,"$1$2.$3"):0})),e.state={logo:"",largeLogo:"",fileList:[],largrLileList:[]},e.formRef=_.createRef(),e}return(0,c.Z)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this,e=this.state,t=e.logo,o=e.largeLogo,i=e.fileList,s=e.largrLileList,a=this.props.visible,d=[_.createElement(l.Z,{onClick:this.cancel},"取消"),_.createElement(l.Z,{onClick:function(){n.formRef.current.validateFields().then((function(e){var t,o=n.state,i=o.logo,s=o.largeLogo;""==n.state.logo?r.ZP.error(null===(t=info.errorFields[0])||void 0===t?void 0:t.errors[0]):(n.setState({logo:"",largeLogo:""}),n.props.addBusinessList(D(D({},e),{},{logo:i,largeLogo:s})))})).catch((function(n){console.log("校验失败:",n)}))}},"确定")],c={name:"avatar",multiple:!1,maxCount:1,listType:"picture-card",accept:"*",onPreview:function(n){window.open(t)},onRemove:function(e){n.setState({fileList:[],logo:""})},beforeUpload:function(e,t){return console.log("3333",e),n.importFile(e,"logo"),n.setState({fileList:t}),!1}},u={name:"avatar",multiple:!1,maxCount:1,listType:"picture-card",accept:"*",onPreview:function(n){window.open(o)},onRemove:function(e){n.setState({largrLileList:[],largeLogo:""})},beforeUpload:function(e,t){return n.importFile(e,"largeLogo"),n.setState({largrLileList:t}),!1}};return _.createElement(L.Z,{visible:a,title:"自定义应用",onCancel:this.cancel,fileList:i,destroyOnClose:!0,footer:d},_.createElement(O.Z,(0,I.Z)({className:j(0==(null==i?void 0:i.length)?"uploadBox":"uploadBoxHid")},c),(null==i?void 0:i.length)>=1?null:"上传logo"),_.createElement(O.Z,(0,I.Z)({className:j(0==(null==s?void 0:s.length)?"uploadBox":"uploadBoxHid")},u),(null==s?void 0:s.length)>=1?null:"上传轮播图"),_.createElement(E.Z,(0,I.Z)({ref:this.formRef},{labelCol:{span:8},wrapperCol:{span:16}},{name:"createBusiness",className:j("createBusiness"),initialValues:{gender:0}}),_.createElement(E.Z.Item,{label:"应用名称",name:"businessName",rules:[{required:!0,message:"请输入应用名称",whitespace:!0}],hasFeedback:!0},_.createElement(m.Z,{placeholder:"请输入应用名称"})),_.createElement(E.Z.Item,{label:"应用定价",name:"price",rules:[{required:!0,message:"请输入应用定价"}],hasFeedback:!0},_.createElement(B.Z,{className:j("createBusiness-price"),placeholder:"请输入应用定价",autoComplete:"off",formatter:this.limitDecimals,parser:this.limitDecimals,min:0})),_.createElement(E.Z.Item,{label:"应用类型",name:"businessType",rules:[{required:!0,message:"请输入应用类型",whitespace:!0}],hasFeedback:!0},_.createElement(m.Z,{placeholder:"请输入应用类型"})),_.createElement(E.Z.Item,{label:"应用链接",name:"link",rules:[{required:!0,message:"请输入服务描述",whitespace:!0}],hasFeedback:!0},_.createElement(m.Z,{placeholder:"请输入服务描述"})),_.createElement(E.Z.Item,{label:"应用介绍",rules:[{required:!0,message:"请选择应用介绍"}],name:"businessDescribe",hasFeedback:!0},_.createElement(q,{placeholder:"应用介绍",rows:4}))))}}]),i}(_.Component);function z(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function F(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?z(Object(t),!0).forEach((function(e){(0,g.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}m.Z.TextArea;var M=x().bind(k),W=(0,v.connect)((function(n){return{global:n.global,integrationTools:n.integrationTools}}))(P=function(n){(0,p.Z)(v,n);var e,t,m=(e=v,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,o=(0,f.Z)(e);if(t){var i=(0,f.Z)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return(0,b.Z)(this,n)});function v(n){var e;return(0,d.Z)(this,v),e=m.call(this,n),(0,g.Z)((0,u.Z)(e),"getBusinessType",(function(){(0,e.props.dispatch)({type:"integrationTools/getBusinessType",opt:{},callback:function(n){var t,o,i,s,a,l,d;console.log("wwww",null==n||null===(t=n.data)||void 0===t?void 0:t.data),200==(null==n||null===(o=n.data)||void 0===o?void 0:o.status)?e.setState({businessTypeList:(null==n||null===(i=n.data)||void 0===i?void 0:i.data)||[],businessType:(null==n||null===(s=n.data)||void 0===s||null===(a=s.data)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.businessType)||""},(function(){e.getBusinessList()})):(e.setState({spinLoad:!1}),r.ZP.error(null==n||null===(d=n.data)||void 0===d?void 0:d.message))}})})),(0,g.Z)((0,u.Z)(e),"initHeight",(function(){var n,t=h.findDOMNode(e.viewWrapperRefzh.current),o=window.innerHeight-(null==t||null===(n=t.getBoundingClientRect())||void 0===n?void 0:n.top);o&&o>450&&e.setState({viewerBoxHeight:o-60})})),(0,g.Z)((0,u.Z)(e),"changeBusinessType",(function(n){e.setState({businessType:n},(function(){e.getBusinessList()}))})),(0,g.Z)((0,u.Z)(e),"getBusinessList",(function(){(0,e.props.dispatch)({type:"integrationTools/getBusinessList",opt:{productDefinitionId:"10",businessType:e.state.businessType},callback:function(n){var t,o,i,s;console.log("333333",n),200==(null==n||null===(t=n.data)||void 0===t?void 0:t.status)?e.setState({spinLoad:!1,businessList:(null==n||null===(o=n.data)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.list)||[]}):(e.setState({spinLoad:!1}),r.ZP.error((null==n||null===(s=n.data)||void 0===s?void 0:s.message)||"服务端错误！"))}})})),(0,g.Z)((0,u.Z)(e),"addBusinessList",(function(n){console.log("eeeee",n),(0,e.props.dispatch)({type:"integrationTools/addBusinessList",opt:{businessName:null==n?void 0:n.businessName,businessType:null==n?void 0:n.businessType,productDefinitionId:10,businessDesc:F({},n)},callback:function(n){var t,o;console.log("444",n),200==(null==n||null===(t=n.data)||void 0===t?void 0:t.status)?(e.addModalCancel(),e.getBusinessType()):(e.addModalCancel(),r.ZP.error((null==n||null===(o=n.data)||void 0===o?void 0:o.message)||"服务端错误！"))}})})),(0,g.Z)((0,u.Z)(e),"deleteBusinessList",(function(){(0,e.props.dispatch)({type:"integrationTools/deleteBusinessList",opt:{productDefinitionId:"10"},callback:function(n){console.log("555",n)}})})),(0,g.Z)((0,u.Z)(e),"showAddModal",(function(){e.setState({visible:!0})})),(0,g.Z)((0,u.Z)(e),"addModalCancel",(function(){e.setState({visible:!1})})),(0,g.Z)((0,u.Z)(e),"storeUpDefinition",(function(n,t){e.setState({spinLoad:!0}),(0,e.props.dispatch)({type:"integrationTools/storeUpDefinition",opt:{storeUpFlag:n,businessDefinitionId:null==t?void 0:t.id},callback:function(n){var t,o;200==(null==n||null===(t=n.data)||void 0===t?void 0:t.status)?e.getBusinessList():(e.setState({spinLoad:!1}),r.ZP.error((null==n||null===(o=n.data)||void 0===o?void 0:o.message)||"服务端错误！")),console.log("555",n)}})})),e.state={spinLoad:!1,visible:!1,businessList:[],businessType:"",businessTypeList:[]},e}return(0,c.Z)(v,[{key:"componentDidMount",value:function(){this.setState({spinLoad:!0}),this.getBusinessType()}},{key:"render",value:function(){var n=this,e=this.state,t=e.spinLoad,r=e.businessList,d=e.visible,c=e.businessTypeList,u=this.props;return u.readOnly,u.dispatch,_.createElement("div",{className:M("IntegrationTools_box")},_.createElement(o.Z,{spinning:t,size:"large",className:M("spin")},_.createElement(l.Z,{onClick:this.showAddModal},"自定义应用"),_.createElement("div",{className:M("businessType-list")},null==c?void 0:c.map((function(e,t){return _.createElement(l.Z,{type:"text",className:M("businessTypeSpan"),onClick:function(){n.changeBusinessType(null==e?void 0:e.businessType)},key:t},""==(null==e?void 0:e.businessType)?"空字符串":null==e?void 0:e.businessType)}))),_.createElement(i.Z,{className:M("businessList")},null==r?void 0:r.map((function(e){var t,o,i;return _.createElement(s.Z,{span:12},_.createElement(a.Z,{className:M("IntegrationTools_Card")},_.createElement("div",{className:M("card-cover")},_.createElement("img",{alt:"example",src:null==e||null===(t=e.businessDesc)||void 0===t?void 0:t.logo})),_.createElement("div",{className:M("card-body")},_.createElement("div",{className:M("cardTitleRow")},_.createElement("span",{className:M("card-title")},null==e?void 0:e.businessName),_.createElement("span",{className:M("btn-span")},_.createElement(l.Z,{disabled:0==(null==e?void 0:e.businessStatus),onClick:function(){n.storeUpDefinition(0,e)}},"上架"),_.createElement(l.Z,{disabled:1==(null==e?void 0:e.businessStatus),onClick:function(){n.storeUpDefinition(1,e)}},"下架"))),_.createElement("div",{className:M("card-content")},_.createElement("p",{className:M("card-price")},"$",null==e||null===(o=e.businessDesc)||void 0===o?void 0:o.price),_.createElement("p",{className:M("businessDescribe")},null==e||null===(i=e.businessDesc)||void 0===i?void 0:i.businessDescribe)))))}))),_.createElement(R,{visible:d,dispatch:this.props.dispatch,addModalCancel:this.addModalCancel,addBusinessList:this.addBusinessList})))}}]),v}(_.Component))||P},77233:(n,e,t)=>{t.d(e,{Z:()=>s});var o=t(23645),i=t.n(o)()((function(n){return n[1]}));i.push([n.id,'html,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  font-family: "微软雅黑", "Arial", "华文细黑", "STHeiti", "MingLiu";\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: \'\';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\na {\n  color: #000;\n  text-decoration: none;\n}\na:hover {\n  color: #000;\n  text-decoration: none;\n}\n::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #aaa;\n  border-radius: 10px;\n}\n#index-module__root___3XgmN {\n  height: 100%;\n}\n.index-module__box___2XJ6E {\n  width: 100%;\n  display: flex;\n  height: 100%;\n  min-height: 92vh;\n  background-color: #f0f2f5;\n}\n.index-module__createBusiness___21fAi .createBusiness-price {\n  width: 100% !important;\n}\n.index-module__uploadBox___1nNFN {\n  display: inline-block;\n  width: 200px;\n}\n.index-module__uploadBoxHid___14a0t {\n  display: inline-block;\n  width: 200px;\n}\n.index-module__uploadBoxHid___14a0t .ant-upload-list .ant-upload-select {\n  display: none;\n}\n',""]),i.locals={root:"index-module__root___3XgmN",box:"index-module__box___2XJ6E",createBusiness:"index-module__createBusiness___21fAi",uploadBox:"index-module__uploadBox___1nNFN",uploadBoxHid:"index-module__uploadBoxHid___14a0t"};const s=i},14950:(n,e,t)=>{t.d(e,{Z:()=>s});var o=t(23645),i=t.n(o)()((function(n){return n[1]}));i.push([n.id,'html,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  font-family: "微软雅黑", "Arial", "华文细黑", "STHeiti", "MingLiu";\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: \'\';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\na {\n  color: #000;\n  text-decoration: none;\n}\na:hover {\n  color: #000;\n  text-decoration: none;\n}\n::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n::-webkit-scrollbar {\n  width: 10px;\n  height: 10px;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #aaa;\n  border-radius: 10px;\n}\n#index-module__root___146Vw {\n  height: 100%;\n}\n.index-module__box___1ShMg {\n  width: 100%;\n  display: flex;\n  height: 100%;\n  min-height: 92vh;\n  background-color: #f0f2f5;\n}\n.index-module__IntegrationTools_box___3Wzi8 {\n  height: 100%;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessType-list .ant-btn-text:focus {\n  color: #fff;\n  background: #096dd9;\n  border-color: #096dd9;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card {\n  width: calc(100% - 20px);\n  border-radius: 7px;\n  box-sizing: content-box;\n  margin: 10px;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body {\n  display: flex;\n  padding: 14px;\n  height: 230px;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-cover {\n  width: 300px;\n  height: 180px;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-cover img {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-body {\n  display: inline-block;\n  width: calc(100% - 300px);\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-body .cardTitleRow {\n  display: flex;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-body .cardTitleRow .card-title {\n  display: inline-block;\n  width: 90px;\n  line-height: 32px;\n  font-family: fangsong;\n  font-size: 14px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-body .cardTitleRow .btn-span .ant-btn {\n  margin-left: 5px;\n  border-radius: 6px;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-body .card-content {\n  height: calc(100% - 40px);\n  margin-top: 6px;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-body .card-content .card-price {\n  color: red;\n  font-family: cursive;\n}\n.index-module__IntegrationTools_box___3Wzi8 .businessList .IntegrationTools_Card .ant-card-body .card-body .card-content .businessDescribe {\n  height: calc(100% - 30px);\n  margin-top: 6px;\n  overflow: hidden auto;\n}\n',""]),i.locals={root:"index-module__root___146Vw",box:"index-module__box___1ShMg",IntegrationTools_box:"index-module__IntegrationTools_box___3Wzi8"};const s=i}}]);